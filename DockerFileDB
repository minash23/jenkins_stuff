# Use the correct JDK base image for building Java applications
FROM eclipse-temurin:21-jdk-jammy

# Copy the JAR file built by Maven into the container
COPY target/XPSDB.jar /XPSDB.jar

# Copy the passwords file
COPY passwords.txt /passwords.txt

# ARG for the database server with no default value
ARG DB_SERVER

# Set the entry point for the container
# Passing port 9000, the database server from ARG, and the password file as arguments
ENTRYPOINT ["java", "-jar", "/XPSDB.jar", "9000", "${DB_SERVER}", "/passwords.txt"]

# Expose the port your application will run on
EXPOSE 9000
